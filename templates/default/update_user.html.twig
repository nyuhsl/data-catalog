{% extends 'base.html.twig' %}

{% form_theme form with ['bootstrap_4_horizontal_layout.html.twig',
                          _self] %}
{% from 'default/_widget_prototype_macro.html.twig' import widget_prototype %}

{% block page_title %}
<title>Update a User Account</title>
{% endblock %}

{% block page_stylesheets %}
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-beta.3/css/select2.min.css" />
{% endblock %}


{% block page_scripts %}
<script src="//cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-beta.3/js/select2.min.js"></script>
<script src="{{ asset('js/add_form.js') }}" type="text/javascript"></script>
<script type="text/javascript">
$('.copy-api-key').click(function (e) {
  e.preventDefault() && e.preventDefault;
  var copyText = document.getElementById("user_apiKey");
  copyText.select();
  document.execCommand("Copy");
  $('.copy-api-key').html('Copied!');
});
$('.empty-api-key').click(function (e) {
  e.preventDefault() && e.preventDefault;
  document.getElementById("user_apiKey").value = "";
});
</script>
{% endblock %}


{% block form_group_class -%}
col-sm-5
{%- endblock form_group_class %}


{% block form_label_class -%}
col-sm-2
{%- endblock form_label_class %}





{% block content %}

<div class="col-xs-7" >
<div class="page-header">
<h1>Update User</h1>
</div>
{{ form_start(form) }}
{{ form_row(form.username) }}
{{ form_row(form.firstName) }}
{{ form_row(form.lastName) }}
{{ form_row(form.roles) }}
<br/>
<br/>
{{ form_row(form.apiKey, {'label':'API Key'}) }}
<div class="form-group" style="margin-top:-1em;">
<label class="col-sm-2 control-label"></label>
<div class="col-sm-5">
<p class="api-help-text" style="color:#666666;font-size:.9em;"><a href="#" class="copy-api-key">Click here to copy the API key to your clipboard.</a>
<br/><br/>
To generate a new key, make sure the "API User" role is checked above. <a href="#" class="empty-api-key">Click here</a> to erase the old API key, and then hit "Save." A new key will be generated.</p>

</div>
</div>

  {{ form_widget(form._token) }}
<div class="spacer25"></div>

  {{ form_widget(form.save) }}
<div class="spacer50"></div>
</div>


{% endblock %}

